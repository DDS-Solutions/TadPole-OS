
> tadpole-os@0.0.0 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os[39m
      [2mCoverage enabled with [22m[33mv8[39m

stderr | tests/server/gateway.test.ts > Gateway > should initialize with expected components
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > should setup basic routes
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > should broadcast heartbeat events
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > health check route should return status ok
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > agents route should return agents list
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > oversight pending route should return data
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

stderr | tests/server/gateway.test.ts > Gateway > engine kill route should execute cleanup
[vitest] The vi.fn() mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.

 [31mÎ“Â¥Â»[39m tests/server/gateway.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[32m 21[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should initialize with expected components[39m[32m 12[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should setup basic routes[39m[32m 1[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m should broadcast heartbeat events[39m[32m 1[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m health check route should return status ok[39m[32m 1[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m agents route should return agents list[39m[32m 1[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m oversight pending route should return data[39m[32m 1[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m engine kill route should execute cleanup[39m[32m 1[2mms[22m[39m
[90mstdout[2m | tests/server/runner.test.ts
[22m[39mâ‰¡Æ’Ã…Â¢âˆ©â••Ã…  [Governor] Service Activated. Monitoring network throughput.

[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould return text response immediately
[22m[39mâ‰¡Æ’Ã¶Ã¤ Turn 1: Generating...

[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould execute tool call and loop back
[22m[39mâ‰¡Æ’Ã¶Ã¤ Turn 1: Generating...

 [32mÎ“Â£Ã´[39m tests/server/crypto.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 851[2mms[22m[39m
stderr | src/pages/Missions.test.tsx > Missions Page > renders the mission management header
Warning: An update to Missions inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at Missions (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/Missions.tsx:30:87)

stderr | src/pages/Missions.test.tsx > Missions Page > displays the new cluster modal when clicking New Mission
Warning: An update to Missions inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at Missions (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/Missions.tsx:30:87)

 [32mÎ“Â£Ã´[39m src/pages/Settings.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 327[2mms[22m[39m
[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould execute tool call and loop back
[22m[39mâ‰¡Æ’Ã¶Ã† Requesting oversight for tool: c3ea2580-c90f-46cc-ae46-97f99df5cfd9 (test-skill)

[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould execute tool call and loop back
[22m[39mÎ“ÃœÃ–âˆ©â••Ã… Executing skill: test-skill

[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould execute tool call and loop back
[22m[39mâ‰¡Æ’Ã¶Ã¤ Turn 2: Generating...

stderr | src/pages/OversightDashboard.test.tsx > OversightDashboard Page > calls the decision endpoint when approving an action
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)

stderr | src/pages/OversightDashboard.test.tsx > OversightDashboard Page > calls the decision endpoint when approving an action
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)

Not implemented: Window's alert() method
stderr | src/pages/OversightDashboard.test.tsx > OversightDashboard Page > triggers the kill switch when button is clicked
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)

stderr | src/pages/OversightDashboard.test.tsx > OversightDashboard Page > triggers the kill switch when button is clicked
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)
Warning: An update to OversightDashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at OversightDashboard (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/OversightDashboard.tsx:23:67)

 [32mÎ“Â£Ã´[39m src/pages/OversightDashboard.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 635[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/pages/EngineDashboard.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 726[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m updates progress bar widths based on metrics [33m 480[2mms[22m[39m
[90mstdout[2m | tests/server/runner.test.ts[2m > [22m[2mAgentRunner[2m > [22m[2mshould handle provider errors gracefully
[22m[39mâ‰¡Æ’Ã¶Ã¤ Turn 1: Generating...

stderr | src/pages/Missions.test.tsx > Missions Page > includes Marketing and Design in the department dropdown
Warning: An update to Missions inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at Missions (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/Missions.tsx:30:87)

 [32mÎ“Â£Ã´[39m src/pages/Missions.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 982[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m includes Marketing and Design in the department dropdown [33m 726[2mms[22m[39m
stderr | tests/server/runner.test.ts > AgentRunner > should handle provider errors gracefully
Runner Error: Error: API Rate Limit
    at C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/tests/server/runner.test.ts:97:40
    at file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:915:26
    at file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:1209:10)
    at file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:1653:37
    at Traces.$ (file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/vitest/dist/chunks/traces.CCmnQaNT.js:142:27)
    at trace (file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
    at runTest (file:///C:/Users/Home%20Office_PC/.gemini/antigravity/playground/tadpole-os/node_modules/@vitest/runner/dist/index.js:1653:12)

 [32mÎ“Â£Ã´[39m tests/server/runner.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1563[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should execute tool call and loop back [33m 1025[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should handle provider errors gracefully [33m 522[2mms[22m[39m
stderr | src/pages/ModelManager.test.tsx > ModelManager Page > Vault Locking Logic > calls unlock when entering passphrase and clicking unlock
Warning: An update to ModelManager inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ModelManager (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/pages/ModelManager.tsx:25:79)

Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
[90mstdout[2m | tests/server/phase30.test.ts
[22m[39mâ‰¡Æ’Ã…Â¢âˆ©â••Ã…  [Governor] Service Activated. Monitoring network throughput.

Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Neural Spike Detected! Simulation crash.
    at BuggyComponent (C:/Users/Home Office_PC/.gemini/antigravity/playground/tadpole-os/src/components/ErrorBoundary.test.tsx:8:15)
    at renderWithHooks (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:16305:18)
    at mountIndeterminateComponent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:20074:13)
    at beginWork (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:21587:16)
    at HTMLUnknownElement.callCallback (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\generated\idl\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\Home Office_PC\.gemini\antigravity\playground\tadpole-os\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
 [32mÎ“Â£Ã´[39m src/components/ErrorBoundary.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 194[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/eventBus.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/server/skills/fs.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 73[2mms[22m[39m
[90mstdout[2m | tests/server/phase30.test.ts[2m > [22m[2mPhase 30: System Intelligence Verification[2m > [22m[2mMission-Aware Oversight[2m > [22m[2mshould propagate clusterId from runner to oversight
[22m[39mâ‰¡Æ’Ã¶Ã¤ Turn 1: Generating...

[90mstdout[2m | tests/server/phase30.test.ts[2m > [22m[2mPhase 30: System Intelligence Verification[2m > [22m[2mMission-Aware Oversight[2m > [22m[2mshould propagate clusterId from runner to oversight
[22m[39mâ‰¡Æ’Ã¶Ã† Requesting oversight for tool: b4e9ff5a-3cc3-4b0d-8dd2-107773169fe0 (test-skill)

 [32mÎ“Â£Ã´[39m tests/server/oversight.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/pages/ModelManager.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 826[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/server/phase30.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/commandProcessor.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/settingsStore.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/services/providerStore.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/services/workspaceStore.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/handoff.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 7 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/server/gateway.test.ts > Gateway > should initialize with expected components
 FAIL  tests/server/gateway.test.ts > Gateway > should setup basic routes
 FAIL  tests/server/gateway.test.ts > Gateway > should broadcast heartbeat events
 FAIL  tests/server/gateway.test.ts > Gateway > health check route should return status ok
 FAIL  tests/server/gateway.test.ts > Gateway > agents route should return agents list
 FAIL  tests/server/gateway.test.ts > Gateway > oversight pending route should return data
 FAIL  tests/server/gateway.test.ts > Gateway > engine kill route should execute cleanup
TypeError: () => mockWSSInstance is not a constructor
 Î“Â¥Â» Gateway.<instance_members_initializer> server/gateway.ts:22:19
     20|     private app = express();
     21|     private server = createServer(this.app);
     22|     private wss = new WebSocketServer({ server: this.server, path: '/eÎ“Ã‡Âª
       |                   ^
     23|     private port = process.env.PORT || 8000;
     24| 
 Î“Â¥Â» new Gateway server/gateway.ts:30:5
 Î“Â¥Â» tests/server/gateway.test.ts:88:19

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/7]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m17 passed[39m[22m[90m (18)[39m
[2m      Tests [22m [1m[31m7 failed[39m[22m[2m | [22m[1m[32m71 passed[39m[22m[90m (78)[39m
[2m   Start at [22m 18:49:49
[2m   Duration [22m 13.65s[2m (transform 3.13s, setup 6.23s, import 7.22s, tests 6.30s, environment 49.48s)[22m

